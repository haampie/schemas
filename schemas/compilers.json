{
"$schema":"http://json-schema.org/draft-07/schema#",
"title":"Spack compiler configuration file schema",
"type":"object",
"additionalProperties":false,
"properties":{
"compilers":{
"type":"array",
"items":{
"type":"object",
"additionalProperties":false,
"properties":{
"compiler":{
"type":"object",
"additionalProperties":false,
"required":[
"paths",
"spec",
"modules",
"operating_system"
],
"properties":{
"paths":{
"type":"object",
"required":[
"cc",
"cxx",
"f77",
"fc"
],
"additionalProperties":false,
"properties":{
"cc":{
"anyOf":[
{
"type":"string"
},
{
"type":"null"
}
]
},
"cxx":{
"anyOf":[
{
"type":"string"
},
{
"type":"null"
}
]
},
"f77":{
"anyOf":[
{
"type":"string"
},
{
"type":"null"
}
]
},
"fc":{
"anyOf":[
{
"type":"string"
},
{
"type":"null"
}
]
}
}
},
"flags":{
"type":"object",
"additionalProperties":false,
"properties":{
"cflags":{
"anyOf":[
{
"type":"string"
},
{
"type":"null"
}
]
},
"cxxflags":{
"anyOf":[
{
"type":"string"
},
{
"type":"null"
}
]
},
"fflags":{
"anyOf":[
{
"type":"string"
},
{
"type":"null"
}
]
},
"cppflags":{
"anyOf":[
{
"type":"string"
},
{
"type":"null"
}
]
},
"ldflags":{
"anyOf":[
{
"type":"string"
},
{
"type":"null"
}
]
},
"ldlibs":{
"anyOf":[
{
"type":"string"
},
{
"type":"null"
}
]
}
}
},
"spec":{
"type":"string"
},
"operating_system":{
"type":"string"
},
"target":{
"type":"string"
},
"alias":{
"anyOf":[
{
"type":"string"
},
{
"type":"null"
}
]
},
"modules":{
"anyOf":[
{
"type":"null"
},
{
"type":"array",
"items":{
"type":"string"
}
}
]
},
"implicit_rpaths":{
"anyOf":[
{
"type":"array",
"items":{
"type":"string"
}
},
{
"type":"boolean"
}
]
},
"environment":{
"type":"object",
"default":{},
"additionalProperties":false,
"properties":{
"set":{
"type":"object",
"patternProperties":{
"\\w[\\w-]*":{
"anyOf":[
{
"type":"string"
},
{
"type":"number"
}
]
}
}
},
"unset":{
"type":"array",
"default":[],
"items":{
"anyOf":[
{
"type":"string"
},
{
"type":"number"
}
]
}
},
"prepend_path":{
"type":"object",
"patternProperties":{
"\\w[\\w-]*":{
"anyOf":[
{
"type":"string"
},
{
"type":"number"
}
]
}
}
},
"append_path":{
"type":"object",
"patternProperties":{
"\\w[\\w-]*":{
"anyOf":[
{
"type":"string"
},
{
"type":"number"
}
]
}
}
},
"remove_path":{
"type":"object",
"patternProperties":{
"\\w[\\w-]*":{
"anyOf":[
{
"type":"string"
},
{
"type":"number"
}
]
}
}
}
}
},
"extra_rpaths":{
"type":"array",
"default":[],
"items":{
"type":"string"
}
}
}
}
}
}
}
}
}