{
"$schema":"http://json-schema.org/draft-07/schema#",
"title":"Spack definitions configuration file schema",
"type":"object",
"additionalProperties":false,
"properties":{
"definitions":{
"type":"array",
"default":[],
"items":{
"type":"object",
"properties":{
"when":{
"type":"string"
}
},
"additionalProperties":{
"type":"array",
"default":[],
"items":{
"anyOf":[
{
"type":"object",
"additionalProperties":false,
"properties":{
"matrix":{
"type":"array",
"items":{
"type":"array",
"items":{
"type":"string"
}
}
},
"exclude":{
"type":"array",
"items":{
"type":"string"
}
}
}
},
{
"type":"string"
},
{
"type":"null"
}
]
}
}
}
}
}
}